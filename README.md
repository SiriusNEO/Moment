# Moment

新一代便携式群聊气氛机器人。



## Spec

### 可移植

机器人核心与框架部分分离，接口处使用一个 adapter 对接。

可以方便更换框架。

### 功能简单

机器人发消息只会有两种情况：

- 消息触发（Msg）
  - 管理级命令
  - 用户级命令
  - key / full
  - 回复 bot
- 主动触发（Async）
  - 开机触发
  - 时间触发
  - 随机臊皮

### 轻小的数据库

##### 信息数据库

```
(int)  (msg)   (msg)   (msg)   (str)   (str)
 id    info    key     full    time    tag
```

##### 用户数据库

```
(int)  (str)  (msg)  (int)  (int)
qq     name   prof   priv   coin
```

### 命令

##### 管理级命令

- `panic`

  强行令此机器人停止一切响应

- `study`

  此机器人开始收集群聊数据，培养数据库。

  `study`  得到的数据，`tag` 会被打上

##### 信息数据库核心命令

- 指定/查询：

`[id]`

如果想依赖其它关键字进行查询，请使用

`[info=xxx] `

- 如果要修改，请使用

`[id] info=xxx` 

这样修改。（注意，等号后面都算内容，因此多个条目修改请多次进行）

对于富文本信息，可以直接“回复”某个内容，然后

`[id] info`  来更新

- 如果需要删除：

`[id] del`

##### 用户数据库核心命令

- 查询

信息数据库中的方括号换成尖括号即可。

- 修改

对于用户数据库，低权限用户不可以指定对象，只能修改自己的内容。

直接 `name=`

对于管理员，使用

`<qq> name=`

进行修改。